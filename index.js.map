{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\n\n\nexport function getImage(imageTitle) {\n    const baseUrl = 'https://pixabay.com/api/';\n    const API_KEY = '48985063-5c5813c169e3db6e477352dc5';\n    \n    return axios.get(baseUrl, {\n        params: {\n            key: API_KEY,\n            q: imageTitle,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: 'true',\n\n        },\n    });\n};\n\n\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst gallery = document.querySelector('.gallery');\nconst loading = document.querySelector('.loader-div');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionData: 'alt',\n  captionDelay: 250,\n});\n\nexport function createImgCard(image) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = image;\n  \n  return `\n    <div class=\"image-card\">\n      <a href=\"${largeImageURL}\" target=\"_blank\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n      </a>\n      <div class=\"info\">\n        <p><strong>Likes:</strong>${likes}</p>\n        <p><strong>Views:</strong>${views}</p>\n        <p><strong>Comments:</strong>${comments}</p>\n        <p><strong>Downloads:</strong>${downloads}</p>\n      </div>\n    </div>\n  `;\n\n}\n\n\nexport function renderGallery(images) {\n  gallery.innerHTML = images.map(createImgCard).join('');\n  lightbox.refresh();\n  hideLoader();\n}\n\nexport function showLoader() {\n  console.log('Done showLoader()');\n  gallery.classList.add('hidden');\n  loading.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  console.log('Done hideLoader()');\n  loading.classList.add('hidden');\n  gallery.classList.remove('hidden');\n}\n\nexport function showMessage() {\n  iziToast.show({\n    position: 'topRight',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    messageSize: '16px',\n    messageLineHeight: '24px',\n    messageColor: '#fff',\n    maxWidth: '432px',\n    backgroundColor: '#EF4040',\n  });\n}\n\n","import {getImage} from './js/pixabay-api.js';\nimport {\n    hideLoader,\n    renderGallery,\n    showLoader,\n    showMessage,\n} from './js/render-function.js';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.search-input');\n\nform.addEventListener('submit', funSubmit);\n\nfunction funSubmit(e) {\n  e.preventDefault();\n\n  const searchText = input.value.trim();\n  if (!searchText) return showMessage();\n\n  input.value = '';\n  showLoader();\n\n  getImage(searchText)\n    .then(data => {\n      const images = data.data.hits;\n\n      if (!images || images.length === 0) {\n        clearGallery();\n        throw new Error();\n      }\n\n      renderGallery(images);\n    })\n    .catch(err => {\n      console.error('No resalts', err);\n      hideLoader();\n      showMessage();\n    });\n}\n\nfunction clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  if (gallery) {\n    gallery.innerHTML = '';\n  }\n}"],"names":["getImage","imageTitle","axios","gallery","loading","lightbox","SimpleLightbox","createImgCard","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderGallery","images","hideLoader","showLoader","showMessage","iziToast","form","input","funSubmit","e","searchText","data","clearGallery","err"],"mappings":"owBAIO,SAASA,EAASC,EAAY,CAIjC,OAAOC,EAAM,IAHG,2BAGU,CACtB,OAAQ,CACJ,IAJQ,qCAKR,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAEf,CACT,CAAK,CACL,CCXA,MAAME,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAU,SAAS,cAAc,aAAa,EAE9CC,EAAW,IAAIC,EAAe,aAAc,CAChD,YAAa,MACb,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAO,CACnC,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA;AAAA,iBAEQE,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,oCAGVC,CAAK;AAAA,oCACLC,CAAK;AAAA,uCACFC,CAAQ;AAAA,wCACPC,CAAS;AAAA;AAAA;AAAA,GAKjD,CAGO,SAASC,EAAcC,EAAQ,CACpCd,EAAQ,UAAYc,EAAO,IAAIV,CAAa,EAAE,KAAK,EAAE,EACrDF,EAAS,QAAO,EAChBa,GACF,CAEO,SAASC,GAAa,CAC3B,QAAQ,IAAI,mBAAmB,EAC/BhB,EAAQ,UAAU,IAAI,QAAQ,EAC9BC,EAAQ,UAAU,OAAO,QAAQ,CACnC,CAEO,SAASc,GAAa,CAC3B,QAAQ,IAAI,mBAAmB,EAC/Bd,EAAQ,UAAU,IAAI,QAAQ,EAC9BD,EAAQ,UAAU,OAAO,QAAQ,CACnC,CAEO,SAASiB,GAAc,CAC5BC,EAAS,KAAK,CACZ,SAAU,WACV,QACE,2EACF,YAAa,OACb,kBAAmB,OACnB,aAAc,OACd,SAAU,QACV,gBAAiB,SACrB,CAAG,CACH,CChEA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,eAAe,EAEpDD,EAAK,iBAAiB,SAAUE,CAAS,EAEzC,SAASA,EAAUC,EAAG,CACpBA,EAAE,eAAc,EAEhB,MAAMC,EAAaH,EAAM,MAAM,KAAI,EACnC,GAAI,CAACG,EAAY,OAAON,IAExBG,EAAM,MAAQ,GACdJ,IAEAnB,EAAS0B,CAAU,EAChB,KAAKC,GAAQ,CACZ,MAAMV,EAASU,EAAK,KAAK,KAEzB,GAAI,CAACV,GAAUA,EAAO,SAAW,EAC/B,MAAAW,IACM,IAAI,MAGZZ,EAAcC,CAAM,CAC1B,CAAK,EACA,MAAMY,GAAO,CACZ,QAAQ,MAAM,aAAcA,CAAG,EAC/BX,IACAE,GACN,CAAK,CACL,CAEA,SAASQ,GAAe,CACtB,MAAMzB,EAAU,SAAS,cAAc,UAAU,EAC7CA,IACFA,EAAQ,UAAY,GAExB"}